(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["audit"],{"4b74":function(e,t,a){"use strict";var n=a("7f2e"),o=a.n(n);o.a},"7f2e":function(e,t,a){},a082:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audit-detail-example-demo"},[e._l(e.pageConfig.tableList,function(t){return a("div",{key:t.title,staticClass:"audit-detail-example-demo-section"},[a("h3",{staticClass:"audit-detail-example-demo-header"},[e._v("\n      "+e._s(t.title)+"\n    ")]),a("div",{staticClass:"audit-detail-example-demo-tool-bar"},[e.downLoadUrl&&t.needShowDownLoadButton?a("a",{attrs:{href:e.downLoadUrl}},[e._v("下载全部")]):e._e()]),"table"===t.type?a("Table",{class:[t.changeFormStyle?"audit-detail-example-demo-table audit-detail-example-demo-form":"audit-detail-example-demo-table"],attrs:{columns:t.table.columns,data:t.table.data,"show-header":t.showTableHeader},scopedSlots:e._u([e._l(t.table.columns,function(t){return{key:t.slot,fn:function(n){var o=n.row,i=n.index;return[t.formFields?a("Form",{key:t.slot,ref:t.slot+o.key,refInFor:!0,attrs:{model:o}},e._l(t.formFields,function(n,r){return a("FieldGenerator",{key:r,attrs:{field:n},on:{"on-field-change":function(a){return e.handleFieldChange(a,o,t.slot+o.key)},"on-button-event":function(t){return e.handleButtonEvent(t,o,i)},"on-list-item-click":e.handleListItemClick}})}),1):a("div",{key:t.key},[e._v(e._s(o.value))])]}}})],null,!0)}):e._e()],1)}),e.pageConfig.showButton&&e.pageData.isCheck?a("div",{staticClass:"audit-detail-example-footer-actions"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.pageConfig.formVaildAction)}}},[e._v("提交保存")])],1):e._e(),a("Modal",{attrs:{width:800},model:{value:e.modalOpen,callback:function(t){e.modalOpen=t},expression:"modalOpen"}},[a("img",{staticClass:"audit-detail-example-demo-modal-img",attrs:{src:e.modalImgUrl,alt:""}})]),a("Modal",{attrs:{title:e.dialogsConfig.title},model:{value:e.dialogShow,callback:function(t){e.dialogShow=t},expression:"dialogShow"}},[a("div",[e._v(e._s(e.dialogsConfig.content))]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:e.cancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){return e.confirm(e.submitApi)}}},[e._v("确定")])],1)])],2)},o=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("7f7f"),a("bd86")),r={baseInfo:{aaname:"成员姓名",abidcard:"身份证号",diagnoseTime:"确诊时间",disease:"确诊疾病",diagnoseHospital:"确诊医院",address:"常住地址",phone:"联系电话",backupPhone:"备用电话",bankNo:"收款卡号",bankUsername:"卡主姓名"},caseDes:{caseDes:"用户案件描述"},moreInfo:{joinTime:"加入时间",applyTime:"申请时间",totalDays:"累计加入",mutualMoney:"匹配互助金额",isSerious:"是否为轻疾"},uploadMaterial:{idcardImgs:"身份证正反面",bankcard:"银行卡正反面",inpatient:"住院和疾病相关材料",diseaseCheck:"出院小结",diagnosticProof:"诊断证明",application:"互助申请书",other:"其他辅助资料"},firstComment:{checkConsolusion:"初审建议"},secondComment:{checkConsolusion:"复审建议"},offlineComment:{undeilineProcess:"调查过程",undeilineSurvey:"调查概况"},offlineCommentLink:{underlineDocUrl:"调查材料"},checkConsolusion:{checkConsolusion:"材料终审建议"}},l={"/audit/total":r,"/audit/edit":r},s=a("2f62"),d=a("66df");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f={data:function(){return{formModel:{},modalOpen:!1,modalImgUrl:"",model:{step:2},dialogShow:!1,dialogTitle:"",dialogContent:"",dialogContentType:"",formData:{},dialogFooterHide:!1,isChange:!1,dilogsOpen:{},dilogsModel:{},pageData:{isCheck:!0},downLoadUrl:"",pageConfig:{request:{},dialogs:{},needDealUploadData:!1,submitApi:{}}}},computed:u({pageRequestInfo:function(){return this.pageConfig&&this.pageConfig.request}},Object(s["b"])({pagePath:function(e){return e.page.pagePath}}),{keyToLabel:function(){return l[this.pagePath]},submitApi:function(){return this.pageConfig.submitApi&&this.pageConfig.submitApi},dialogsConfig:function(){return this.pageConfig.dialogs||{}},needDealUploadData:function(){return this.pageConfig.needDealUploadData||!1}}),watch:{pagePath:function(){this.getPageConfig()}},mounted:function(){this.getPageConfig()},methods:{getPageConfig:function(){var e=this;d["a"].request({url:"/api".concat(this.pagePath,"/page-config"),method:"get",params:{pagePath:this.pagePath}}).then(function(t){e.pageConfig=t.data,e.getPageDetail()})},handleButtonEvent:function(e,t,a){var n=e.name;if(/dialog-/.test(n)){var o=n.replace(/dialog-/,"");this.$set(this.dilogsOpen,o,!0)}else this[e.name](t,a)},handleFieldChange:function(e,t,a){var n=e.model,o=e.value,i=t.key;this.$refs[a][0].validate(),this.formModel[i]||this.$set(this.formModel,i,{}),this.$set(this.formModel[i],n,o)},handleSave:function(e){var t=this,a=0,n=Object.keys(this.$refs);n.forEach(function(e){t.$refs[e][0]&&t.$refs[e][0].validate().then(function(e){e&&a++,a===n.length&&(t.dialogTitle=t.pageConfig.dialogs.title,t.dialogContent=t.pageConfig.dialogs.content,t.dialogShow=!0)}).catch(function(e){console.log(e)})})},handleImgClick:function(e){this.modalOpen=!0,this.modalImgUrl=e},handleListItemClick:function(e){var t=e.url;this.modalOpen=!0,this.modalImgUrl=t},getPageDetail:function(){var e=this;this.resetPageData();var t=this.pageRequestInfo,a=t.api,n=t.method;d["a"].request({method:n,url:a,params:{applyNo:this.$route.query.applyNo||0}}).then(function(t){t&&t.data&&(e.downLoadUrl=t.data.downLoadUrl,e.mergePageInfoFromApi(e.pageConfig,e.keyToLabel,t.data.info))}).catch(function(e){})},mergePageInfoFromApi:function(e,t,a){e.tableList=e.tableList.map(function(e){var n=e.sectionKey,o=t[n],i=a[n],r=e.isTableArray;return r?e.table.data=i:o&&i&&(e.table.data=Object.keys(i).map(function(e){var t="";return o[e]&&(t={key:e,label:o[e],value:i[e]}),t}),e.table.data=e.table.data.filter(function(e){return e})),e})},cancel:function(){this.dialogShow=!1},confirm:function(e){var t=this,a=e.api,n=e.method,o=u({},this.formModel,{},{applyNo:this.$route.query.applyNo});d["a"].request({method:n,url:a,data:o}).then(function(e){0===+e.errno?t.$Message.success({background:!0,content:"提交成功"}):t.$Message.error({background:!0,content:"系统异常"})}),this.dialogShow=!1},resetPageData:function(){this.pageConfig.tableList=this.pageConfig.tableList.map(function(e){return e.needClearData&&(e.table.data=[]),e})}}},g=f,h=(a("4b74"),a("2877")),p=Object(h["a"])(g,n,o,!1,null,null,null),m=p.exports;t["default"]=m},a481:function(e,t,a){"use strict";var n=a("cb7c"),o=a("4bf8"),i=a("9def"),r=a("4588"),l=a("0390"),s=a("5f1b"),d=Math.max,c=Math.min,u=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,function(e,t,a,p){return[function(n,o){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,o):a.call(String(i),n,o)},function(e,t){var o=p(a,e,this,t);if(o.done)return o.value;var u=n(e),f=String(this),g="function"===typeof t;g||(t=String(t));var v=u.global;if(v){var b=u.unicode;u.lastIndex=0}var C=[];while(1){var y=s(u,f);if(null===y)break;if(C.push(y),!v)break;var k=String(y[0]);""===k&&(u.lastIndex=l(f,i(u.lastIndex),b))}for(var w="",O=0,P=0;P<C.length;P++){y=C[P];for(var D=String(y[0]),S=d(c(r(y.index),f.length),0),x=[],_=1;_<y.length;_++)x.push(h(y[_]));var I=y.groups;if(g){var $=[D].concat(x,S,f);void 0!==I&&$.push(I);var L=String(t.apply(void 0,$))}else L=m(D,f,S,x,I,t);S>=O&&(w+=f.slice(O,S)+L,O=S+D.length)}return w+f.slice(O)}];function m(e,t,n,i,r,l){var s=n+e.length,d=i.length,c=g;return void 0!==r&&(r=o(r),c=f),a.call(l,c,function(a,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":l=r[o.slice(1,-1)];break;default:var c=+o;if(0===c)return a;if(c>d){var f=u(c/10);return 0===f?a:f<=d?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):a}l=i[c-1]}return void 0===l?"":l})}})}}]);
//# sourceMappingURL=audit.4fcc9e24.js.map