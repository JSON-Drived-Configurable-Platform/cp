(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editable-table"],{ab98:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-form-editable-table"},[a("Form",{ref:"form",attrs:{model:t.editModel}},[a("Table",{attrs:{loading:t.tableLoading,columns:t.columns,data:t.data},scopedSlots:t._u([t._l(t.columns,function(e){return{key:e.slot,fn:function(n){var o=n.row,i=n.index;return[t.editModel.index===i?a("FieldGenerator",{key:e.slot,attrs:{field:e.formField},on:{"on-submit":function(e){return t.handleSave(i)}}}):"action"!==e.slot?a("span",{key:e.slot},[t._v("\n          "+t._s(o[e.slot])+"\n        ")]):a("div",{key:e.slot},[a("Button",{on:{click:function(e){return t.handleEditButtonClick(o,i)}}},[t._v("编辑")])],1)]}}})],null,!0)})],1),a("div",{staticClass:"page-form-editable-table-pagenation"},[a("Page",{attrs:{total:t.total,"show-total":""}})],1)],1)},o=[],i=a("8e44"),l=i["a"]["form"],d=l.getEditableTablePageConfig,s=l.getList,r={data:function(){return{tableLoading:!0,data:[],editModel:{},pageConfig:{},pageSize:10,pageNumber:1,total:0}},computed:{options:function(){return this.pageConfig.form.options},columns:function(){return this.pageConfig.columns}},mounted:function(){var t=this,e=this.$route.params.pageId;d({pageId:e}).then(function(e){t.pageConfig=e.data,t.loading=!1,t.getTableData()})},methods:{getTableData:function(){var t=this;this.tableLoading=!0;var e=this.$route.params.pageId,a={pageSize:this.pageSize,pageNumber:this.pageNumber,pageId:e};s(a).then(function(e){var a=e.data,n=a.list,o=a.pageSize,i=a.pageNumber,l=a.total;t.data=n||[],t.pageSize=o||t.pageSize,t.pageNumber=i||t.pageNumber,t.total=l||t.total,t.tableLoading=!1})},handleEditButtonClick:function(t,e){this.editModel=t,this.editModel.index=e},handleSave:function(t){var e=this;this.$refs.form.validate(function(a){a?(console.log("update model",e.editModel),e.data.splice(t,1,e.editModel),e.editModel.index=-1,e.$Message.info("update success!")):console.log("valid",a)})}}},u=r,c=(a("bb44"),a("2877")),g=Object(c["a"])(u,n,o,!1,null,null,null);e["default"]=g.exports},bb44:function(t,e,a){"use strict";var n=a("d25a"),o=a.n(n);o.a},d25a:function(t,e,a){}}]);
//# sourceMappingURL=editable-table.df9d26f3.js.map