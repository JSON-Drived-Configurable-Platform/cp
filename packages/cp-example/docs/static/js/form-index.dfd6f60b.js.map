{"version":3,"sources":["webpack:///./src/page/rbac/views/user.vue?f6e3","webpack:///./src/page/rbac/views/permission.vue?5a96","webpack:///./src/page/rbac/views/role.vue?84b3","webpack:///./src/page/rbac/home.vue?db75","webpack:///src/page/rbac/home.vue","webpack:///./src/page/rbac/home.vue?5d8b","webpack:///./src/page/rbac/home.vue","webpack:///./src/page/rbac/views/role.vue?b378","webpack:///src/page/rbac/views/role.vue","webpack:///./src/page/rbac/views/role.vue?e25b","webpack:///./src/page/rbac/views/role.vue","webpack:///./src/page/rbac/views/permission.vue?e21f","webpack:///src/page/rbac/views/permission.vue","webpack:///./src/page/rbac/views/permission.vue?2a53","webpack:///./src/page/rbac/views/permission.vue","webpack:///./src/page/rbac/views/user.vue?0994","webpack:///src/page/rbac/views/user.vue","webpack:///./src/page/rbac/views/user.vue?add3","webpack:///./src/page/rbac/views/user.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","homeData","staticRenderFns","data","current","computed","JSON","stringify","mounted","getRbacUserInfo","then","errno","component","attrs","pageTitle","_e","on","handleCreateButtonClick","tableLoading","columns","scopedSlots","_u","_l","column","key","slot","fn","ref","row","index","field","i","$event","handleButtonEvent","total","handlePageNumberChange","handlePageSizeChange","model","value","callback","$$v","editDialogOpeon","expression","editFormFields","editModel","handleSave","editPermissionDialogOpeon","editPermissionFormFields","handlePermissionSave","loading","pageConfig","pageSize","pageNumber","title","getRolePageConfig","pageId","methods","getTableData","getRoleList","params","type","status","name","editButtonClick","deleteButtonClick","deleteRequest","permissionButtonClick","getRolePermission","role_id","id","toBlackButtonClick","toBlackRequest","toWhiteButtonClick","toWhiteRequest","$refs","FormGenerator","submit","addRequest","roleAdd","res","editRequest","roleEdit","roleDel","FormPermissionGenerator","getPermissionPageConfig","getPermissionList","permissionAdd","permissionEdit","permissionDel","editRoleDialogOpeon","editRoleFormFields","handleRoleSave","getUserPageConfig","getUserList","roleButtonClick","getUserRolePermission","username","userAdd","userEdit","userDel","FormRoleGenerator"],"mappings":"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","file":"static/js/form-index.dfd6f60b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./permission.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./permission.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-home\"},[_c('h3',[_vm._v(\"当前登录用户角色、权限信息如下：\")]),_c('pre',[_vm._v(_vm._s(_vm.homeData))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-home\">\n    <h3>当前登录用户角色、权限信息如下：</h3>\n    <pre>{{ homeData }}</pre>\n  </div>\n</template>\n<script>\nimport services from \"@/service\";\nconst { getRbacUserInfo } = services.rbac;\nexport default {\n  data() {\n    return {\n      current: 0,\n      data: {}\n    };\n  },\n  computed: {\n    homeData() {\n      return JSON.stringify(this.data, null, 4);\n    }\n  },\n  mounted() {\n    getRbacUserInfo().then(res => {\n      const { errno, data } = res;\n      if (+errno === 0) {\n        this.data = data;\n      }\n    });\n  }\n};\n</script>\n<style lang=\"less\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=6026174c&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"page-rbac-role-loading\"},[_c('Spin',{staticClass:\"page-rbac-role-loading-spin\",attrs:{\"size\":\"large\"}})],1):_c('div',{staticClass:\"page-rbac-role\"},[(_vm.pageTitle)?_c('h2',{staticClass:\"page-rbac-role-page-title\"},[_vm._v(_vm._s(_vm.pageTitle))]):_vm._e(),_c('h3',{staticClass:\"page-rbac-role-header\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateButtonClick}},[_vm._v(\"创建角色\")])],1),_c('Table',{staticClass:\"page-rbac-role-table\",attrs:{\"loading\":_vm.tableLoading,\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([_vm._l((_vm.columns),function(column){return {key:column.slot,fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form',{key:column.slot,attrs:{\"model\":row}},_vm._l((column.formFields),function(field,i){return _c('FieldGenerator',{key:i,attrs:{\"field\":field},on:{\"on-button-event\":function($event){return _vm.handleButtonEvent($event, row, index)}}})}),1)]}}})],null,true)}),_c('div',{staticClass:\"page-rbac-role-pagenation\"},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":function($event){return _vm.handlePageNumberChange($event)},\"on-page-size-change\":function($event){return _vm.handlePageSizeChange($event)}}})],1),_c('Modal',{attrs:{\"title\":\"编辑\",\"footer-hide\":\"\"},model:{value:(_vm.editDialogOpeon),callback:function ($$v) {_vm.editDialogOpeon=$$v},expression:\"editDialogOpeon\"}},[(_vm.editDialogOpeon)?_c('FormGenerator',{ref:\"FormGenerator\",attrs:{\"fields\":_vm.editFormFields,\"model\":_vm.editModel},on:{\"on-submit\":_vm.handleSave}}):_vm._e()],1),_c('Modal',{attrs:{\"title\":\"角色权限\",\"footer-hide\":\"\"},model:{value:(_vm.editPermissionDialogOpeon),callback:function ($$v) {_vm.editPermissionDialogOpeon=$$v},expression:\"editPermissionDialogOpeon\"}},[(_vm.editPermissionDialogOpeon)?_c('FormGenerator',{ref:\"FormPermissionGenerator\",attrs:{\"fields\":_vm.editPermissionFormFields,\"model\":_vm.editModel},on:{\"on-submit\":_vm.handlePermissionSave}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"loading\" class=\"page-rbac-role-loading\">\n    <Spin class=\"page-rbac-role-loading-spin\" size=\"large\" />\n  </div>\n  <div v-else class=\"page-rbac-role\">\n    <h2 v-if=\"pageTitle\" class=\"page-rbac-role-page-title\">{{ pageTitle }}</h2>\n    <h3 class=\"page-rbac-role-header\">\n      <Button type=\"primary\" @click=\"handleCreateButtonClick\">创建角色</Button>\n    </h3>\n    <Table\n      class=\"page-rbac-role-table\"\n      :loading=\"tableLoading\"\n      :columns=\"columns\"\n      :data=\"data\"\n    >\n      <template\n        v-for=\"column in columns\"\n        :slot=\"column.slot\"\n        slot-scope=\"{ row, index }\"\n      >\n        <Form :key=\"column.slot\" :model=\"row\">\n          <FieldGenerator\n            v-for=\"(field, i) in column.formFields\"\n            :key=\"i\"\n            :field=\"field\"\n            @on-button-event=\"handleButtonEvent($event, row, index)\"\n          />\n        </Form>\n      </template>\n    </Table>\n    <div class=\"page-rbac-role-pagenation\">\n      <Page\n        :total=\"total\"\n        show-total\n        show-elevator\n        show-sizer\n        @on-change=\"handlePageNumberChange($event)\"\n        @on-page-size-change=\"handlePageSizeChange($event)\"\n      />\n    </div>\n    <Modal v-model=\"editDialogOpeon\" title=\"编辑\" footer-hide>\n      <FormGenerator\n        v-if=\"editDialogOpeon\"\n        ref=\"FormGenerator\"\n        :fields=\"editFormFields\"\n        :model=\"editModel\"\n        @on-submit=\"handleSave\"\n      />\n    </Modal>\n    <Modal v-model=\"editPermissionDialogOpeon\" title=\"角色权限\" footer-hide>\n      <FormGenerator\n        v-if=\"editPermissionDialogOpeon\"\n        ref=\"FormPermissionGenerator\"\n        :fields=\"editPermissionFormFields\"\n        :model=\"editModel\"\n        @on-submit=\"handlePermissionSave\"\n      />\n    </Modal>\n  </div>\n</template>\n<script>\nimport services from \"@/service\";\nconst {\n  getRolePageConfig,\n  getRoleList,\n  roleAdd,\n  roleEdit,\n  roleDel,\n  getRolePermission,\n  updateRolePermission\n} = services.rbac;\nexport default {\n  data() {\n    return {\n      loading: true,\n      tableLoading: true,\n      data: [],\n      editModel: {},\n      pageConfig: {},\n      editDialogOpeon: false,\n      editPermissionDialogOpeon: false,\n      pageSize: 10,\n      pageNumber: 1,\n      total: 0\n    };\n  },\n  computed: {\n    pageTitle() {\n      return this.pageConfig.title || \"\";\n    },\n    columns() {\n      return this.pageConfig.columns;\n    },\n    editFormFields() {\n      return this.pageConfig.editFormFields;\n    },\n    editPermissionFormFields() {\n      return this.pageConfig.editPermissionFormFields;\n    }\n  },\n  mounted() {\n    const { pageId } = this.$route.params;\n    getRolePageConfig({\n      pageId\n    }).then(res => {\n      this.pageConfig = res.data;\n      this.loading = false;\n      this.getTableData();\n    });\n  },\n  methods: {\n    getTableData() {\n      this.tableLoading = true;\n      const { pageId } = this.$route.params;\n      const params = {\n        pageSize: this.pageSize,\n        pageNumber: this.pageNumber,\n        pageId\n      };\n      getRoleList(params).then(res => {\n        const { list, pageSize, pageNumber, total } = res.data;\n        this.data = list || [];\n        this.pageSize = pageSize || this.pageSize;\n        this.pageNumber = pageNumber || this.pageNumber;\n        this.total = total || this.total;\n        this.tableLoading = false;\n      });\n    },\n\n    handlePageNumberChange(pageNumber) {\n      this.pageNumber = pageNumber;\n      this.getTableData();\n    },\n\n    handlePageSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.getTableData();\n    },\n\n    handleCreateButtonClick() {\n      this.editModel = {\n        type: \"add\",\n        // 初始化用户状态，通常这个值是后端初始化\n        status: \"1\"\n      };\n      this.editDialogOpeon = true;\n    },\n\n    handleButtonEvent($event, row, index) {\n      this[$event.name](row, index);\n    },\n\n    editButtonClick(row, index) {\n      // eslint-disable-next-line no-console\n      this.editModel = row;\n      this.editModel.index = index;\n      this.editDialogOpeon = true;\n    },\n\n    deleteButtonClick(row) {\n      this.deleteRequest(row);\n    },\n\n    permissionButtonClick(row, index) {\n      getRolePermission({\n        role_id: row.id\n      })\n        .then(res => {\n          const { data, errno } = res;\n          if (+errno === 0) {\n            const permissions = data.permissions;\n            this.editModel = row;\n            this.$set(this.editModel, \"permissions\", permissions.map(item => item.id));\n            this.editModel.index = index;\n            this.editPermissionDialogOpeon = true;\n          }\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    },\n\n    toBlackButtonClick(row) {\n      this.toBlackRequest(row);\n    },\n\n    toWhiteButtonClick(row) {\n      this.toWhiteRequest(row);\n    },\n\n    handleSave() {\n      this.$refs.FormGenerator.submit()\n        .then(() => {\n          // 新增用户\n          if (this.editModel.type === \"add\") {\n            this.addRequest(this.editModel);\n            this.getTableData();\n            return;\n          }\n          // 编辑\n          this.editRequest(this.editModel);\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    },\n\n    addRequest(params) {\n      roleAdd(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Add Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Add Failed!\");\n        }\n      });\n    },\n\n    editRequest(params) {\n      roleEdit(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Edit Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Edit Failed!\");\n        }\n      });\n    },\n\n    deleteRequest(params) {\n      roleDel(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Delete Success!\");\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Delete Failed!\");\n        }\n      });\n    },\n\n    handlePermissionSave() {\n      this.$refs.FormPermissionGenerator.submit()\n        .then(() => {\n          updateRolePermission({\n            role_id: this.editModel.id,\n            permission_ids: this.editModel.permissions.join(\",\")\n          })\n            .then(res => {\n              if (+res.errno === 0) {\n                this.$Message.info(\"Update Success!\");\n                this.editPermissionDialogOpeon = false;\n              } else {\n                this.$Message.error(\"Update Failed!\");\n              }\n            })\n            .catch(err => {\n              this.$Message.error(`Update Failed!${err.toString()}`);\n            });\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.page-rbac-role {\n\n  &-loading {\n    text-align: center;\n    padding: 140px;\n    &-spin {\n      display: inline-block;\n    }\n  }\n\n  &-page-title {\n    font-size: 20px;\n    margin: 10px auto 20px;\n  }\n\n  &-header {\n    margin-bottom: 10px;\n    text-align: right;\n  }\n  &-table {\n    .ivu-form-item {\n      margin-bottom: 0;\n    }\n  }\n  .ivu-table,\n  .ivu-table-wrapper,\n  .ivu-table-cell {\n    overflow: visible;\n  }\n  .ivu-poptip-confirm {\n    text-align: left;\n  }\n\n  &-pagenation {\n    margin-top: 20px;\n    text-align: right;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role.vue?vue&type=template&id=4e308037&\"\nimport script from \"./role.vue?vue&type=script&lang=js&\"\nexport * from \"./role.vue?vue&type=script&lang=js&\"\nimport style0 from \"./role.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"page-rbac-permission-loading\"},[_c('Spin',{staticClass:\"page-rbac-permission-loading-spin\",attrs:{\"size\":\"large\"}})],1):_c('div',{staticClass:\"page-rbac-permission\"},[(_vm.pageTitle)?_c('h2',{staticClass:\"page-rbac-permission-page-title\"},[_vm._v(_vm._s(_vm.pageTitle))]):_vm._e(),_c('h3',{staticClass:\"page-rbac-permission-header\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateButtonClick}},[_vm._v(\"新增权限\")])],1),_c('Table',{staticClass:\"page-rbac-permission-table\",attrs:{\"loading\":_vm.tableLoading,\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([_vm._l((_vm.columns),function(column){return {key:column.slot,fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form',{key:column.slot,attrs:{\"model\":row}},_vm._l((column.formFields),function(field,i){return _c('FieldGenerator',{key:i,attrs:{\"field\":field},on:{\"on-button-event\":function($event){return _vm.handleButtonEvent($event, row, index)}}})}),1)]}}})],null,true)}),_c('div',{staticClass:\"page-rbac-permission-pagenation\"},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":function($event){return _vm.handlePageNumberChange($event)},\"on-page-size-change\":function($event){return _vm.handlePageSizeChange($event)}}})],1),_c('Modal',{attrs:{\"title\":\"编辑\",\"footer-hide\":\"\"},model:{value:(_vm.editDialogOpeon),callback:function ($$v) {_vm.editDialogOpeon=$$v},expression:\"editDialogOpeon\"}},[(_vm.editDialogOpeon)?_c('FormGenerator',{ref:\"FormGenerator\",attrs:{\"fields\":_vm.editFormFields,\"model\":_vm.editModel},on:{\"on-submit\":_vm.handleSave}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"loading\" class=\"page-rbac-permission-loading\">\n    <Spin class=\"page-rbac-permission-loading-spin\" size=\"large\" />\n  </div>\n  <div v-else class=\"page-rbac-permission\">\n    <h2 v-if=\"pageTitle\" class=\"page-rbac-permission-page-title\">{{ pageTitle }}</h2>\n    <h3 class=\"page-rbac-permission-header\">\n      <Button type=\"primary\" @click=\"handleCreateButtonClick\">新增权限</Button>\n    </h3>\n    <Table\n      class=\"page-rbac-permission-table\"\n      :loading=\"tableLoading\"\n      :columns=\"columns\"\n      :data=\"data\"\n    >\n      <template\n        v-for=\"column in columns\"\n        :slot=\"column.slot\"\n        slot-scope=\"{ row, index }\"\n      >\n        <Form :key=\"column.slot\" :model=\"row\">\n          <FieldGenerator\n            v-for=\"(field, i) in column.formFields\"\n            :key=\"i\"\n            :field=\"field\"\n            @on-button-event=\"handleButtonEvent($event, row, index)\"\n          />\n        </Form>\n      </template>\n    </Table>\n    <div class=\"page-rbac-permission-pagenation\">\n      <Page\n        :total=\"total\"\n        show-total\n        show-elevator\n        show-sizer\n        @on-change=\"handlePageNumberChange($event)\"\n        @on-page-size-change=\"handlePageSizeChange($event)\"\n      />\n    </div>\n    <Modal v-model=\"editDialogOpeon\" title=\"编辑\" footer-hide>\n      <FormGenerator\n        v-if=\"editDialogOpeon\"\n        ref=\"FormGenerator\"\n        :fields=\"editFormFields\"\n        :model=\"editModel\"\n        @on-submit=\"handleSave\"\n      />\n    </Modal>\n  </div>\n</template>\n<script>\nimport services from \"@/service\";\nconst {\n  getPermissionPageConfig,\n  getPermissionList,\n  permissionAdd,\n  permissionEdit,\n  permissionDel\n} = services.rbac;\nexport default {\n  data() {\n    return {\n      loading: true,\n      tableLoading: true,\n      data: [],\n      editModel: {},\n      pageConfig: {},\n      editDialogOpeon: false,\n      pageSize: 10,\n      pageNumber: 1,\n      total: 0\n    };\n  },\n  computed: {\n    pageTitle() {\n      return this.pageConfig.title || \"\";\n    },\n    columns() {\n      return this.pageConfig.columns;\n    },\n    editFormFields() {\n      return this.pageConfig.editFormFields;\n    }\n  },\n  mounted() {\n    const { pageId } = this.$route.params;\n    getPermissionPageConfig({\n      pageId\n    }).then(res => {\n      this.pageConfig = res.data;\n      this.loading = false;\n      this.getTableData();\n    });\n  },\n  methods: {\n    getTableData() {\n      this.tableLoading = true;\n      const { pageId } = this.$route.params;\n      const params = {\n        pageSize: this.pageSize,\n        pageNumber: this.pageNumber,\n        pageId\n      };\n      getPermissionList(params).then(res => {\n        const { list, pageSize, pageNumber, total } = res.data;\n        this.data = list || [];\n        this.pageSize = pageSize || this.pageSize;\n        this.pageNumber = pageNumber || this.pageNumber;\n        this.total = total || this.total;\n        this.tableLoading = false;\n      });\n    },\n\n    handlePageNumberChange(pageNumber) {\n      this.pageNumber = pageNumber;\n      this.getTableData();\n    },\n\n    handlePageSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.getTableData();\n    },\n\n    handleCreateButtonClick() {\n      this.editModel = {\n        type: \"add\",\n        // 初始化用户状态，通常这个值是后端初始化\n        status: \"1\"\n      };\n      this.editDialogOpeon = true;\n    },\n\n    handleButtonEvent($event, row, index) {\n      this[$event.name](row, index);\n    },\n\n    editButtonClick(row, index) {\n      // eslint-disable-next-line no-console\n      this.editModel = row;\n      this.editModel.index = index;\n      this.editDialogOpeon = true;\n    },\n\n    deleteButtonClick(row) {\n      this.deleteRequest(row);\n    },\n\n    toBlackButtonClick(row) {\n      this.toBlackRequest(row);\n    },\n\n    toWhiteButtonClick(row) {\n      this.toWhiteRequest(row);\n    },\n\n    handleSave() {\n      this.$refs.FormGenerator.submit()\n        .then(() => {\n          // 新增用户\n          if (this.editModel.type === \"add\") {\n            this.editModel.type = \"\";\n            this.addRequest(this.editModel);\n            this.getTableData();\n            return;\n          }\n          // 编辑\n          this.editRequest(this.editModel);\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    },\n\n    addRequest(params) {\n      permissionAdd(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Add Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Add Failed!\");\n        }\n      });\n    },\n\n    editRequest(params) {\n      permissionEdit(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Edit Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Edit Failed!\");\n        }\n      });\n    },\n\n    deleteRequest(params) {\n      permissionDel(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Delete Success!\");\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Delete Failed!\");\n        }\n      });\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.page-rbac-permission {\n  &-loading {\n    text-align: center;\n    padding: 140px;\n    &-spin {\n      display: inline-block;\n    }\n  }\n\n  &-page-title {\n    font-size: 20px;\n    margin: 10px auto 20px;\n  }\n\n  &-header {\n    margin-bottom: 10px;\n    text-align: right;\n  }\n  &-table {\n    .ivu-form-item {\n      margin-bottom: 0;\n    }\n  }\n  .ivu-table,\n  .ivu-table-wrapper,\n  .ivu-table-cell {\n    overflow: visible;\n  }\n  .ivu-poptip-confirm {\n    text-align: left;\n  }\n\n  &-pagenation {\n    margin-top: 20px;\n    text-align: right;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./permission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./permission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./permission.vue?vue&type=template&id=0f462eb8&\"\nimport script from \"./permission.vue?vue&type=script&lang=js&\"\nexport * from \"./permission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./permission.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"page-rbac-user-loading\"},[_c('Spin',{staticClass:\"page-rbac-user-loading-spin\",attrs:{\"size\":\"large\"}})],1):_c('div',{staticClass:\"page-rbac-user\"},[(_vm.pageTitle)?_c('h2',{staticClass:\"page-rbac-user-page-title\"},[_vm._v(_vm._s(_vm.pageTitle))]):_vm._e(),_c('h3',{staticClass:\"page-rbac-user-header\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateButtonClick}},[_vm._v(\"创建用户\")])],1),_c('Table',{staticClass:\"page-rbac-user-table\",attrs:{\"loading\":_vm.tableLoading,\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([_vm._l((_vm.columns),function(column){return {key:column.slot,fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Form',{key:column.slot,attrs:{\"model\":row}},_vm._l((column.formFields),function(field,i){return _c('FieldGenerator',{key:i,attrs:{\"field\":field},on:{\"on-button-event\":function($event){return _vm.handleButtonEvent($event, row, index)}}})}),1)]}}})],null,true)}),_c('div',{staticClass:\"page-rbac-user-pagenation\"},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":function($event){return _vm.handlePageNumberChange($event)},\"on-page-size-change\":function($event){return _vm.handlePageSizeChange($event)}}})],1),_c('Modal',{attrs:{\"title\":\"用户\",\"footer-hide\":\"\"},model:{value:(_vm.editDialogOpeon),callback:function ($$v) {_vm.editDialogOpeon=$$v},expression:\"editDialogOpeon\"}},[(_vm.editDialogOpeon)?_c('FormGenerator',{ref:\"FormGenerator\",attrs:{\"fields\":_vm.editFormFields,\"model\":_vm.editModel},on:{\"on-submit\":_vm.handleSave}}):_vm._e()],1),_c('Modal',{attrs:{\"title\":\"用户角色\",\"footer-hide\":\"\"},model:{value:(_vm.editRoleDialogOpeon),callback:function ($$v) {_vm.editRoleDialogOpeon=$$v},expression:\"editRoleDialogOpeon\"}},[(_vm.editRoleDialogOpeon)?_c('FormGenerator',{ref:\"FormRoleGenerator\",attrs:{\"fields\":_vm.editRoleFormFields,\"model\":_vm.editModel},on:{\"on-submit\":_vm.handleRoleSave}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"loading\" class=\"page-rbac-user-loading\">\n    <Spin class=\"page-rbac-user-loading-spin\" size=\"large\" />\n  </div>\n  <div v-else class=\"page-rbac-user\">\n    <h2 v-if=\"pageTitle\" class=\"page-rbac-user-page-title\">{{ pageTitle }}</h2>\n    <h3 class=\"page-rbac-user-header\">\n      <Button type=\"primary\" @click=\"handleCreateButtonClick\">创建用户</Button>\n    </h3>\n    <Table\n      class=\"page-rbac-user-table\"\n      :loading=\"tableLoading\"\n      :columns=\"columns\"\n      :data=\"data\"\n    >\n      <template\n        v-for=\"column in columns\"\n        :slot=\"column.slot\"\n        slot-scope=\"{ row, index }\"\n      >\n        <Form :key=\"column.slot\" :model=\"row\">\n          <FieldGenerator\n            v-for=\"(field, i) in column.formFields\"\n            :key=\"i\"\n            :field=\"field\"\n            @on-button-event=\"handleButtonEvent($event, row, index)\"\n          />\n        </Form>\n      </template>\n    </Table>\n    <div class=\"page-rbac-user-pagenation\">\n      <Page\n        :total=\"total\"\n        show-total\n        show-elevator\n        show-sizer\n        @on-change=\"handlePageNumberChange($event)\"\n        @on-page-size-change=\"handlePageSizeChange($event)\"\n      />\n    </div>\n    <Modal v-model=\"editDialogOpeon\" title=\"用户\" footer-hide>\n      <FormGenerator\n        v-if=\"editDialogOpeon\"\n        ref=\"FormGenerator\"\n        :fields=\"editFormFields\"\n        :model=\"editModel\"\n        @on-submit=\"handleSave\"\n      />\n    </Modal>\n    <Modal v-model=\"editRoleDialogOpeon\" title=\"用户角色\" footer-hide>\n      <FormGenerator\n        v-if=\"editRoleDialogOpeon\"\n        ref=\"FormRoleGenerator\"\n        :fields=\"editRoleFormFields\"\n        :model=\"editModel\"\n        @on-submit=\"handleRoleSave\"\n      />\n    </Modal>\n  </div>\n</template>\n<script>\nimport services from \"@/service\";\nconst {\n  getUserPageConfig,\n  getUserList,\n  userAdd,\n  userEdit,\n  userDel,\n  getUserRolePermission,\n  updateUserRole\n} = services.rbac;\nexport default {\n  data() {\n    return {\n      loading: true,\n      tableLoading: true,\n      data: [],\n      editModel: {},\n      pageConfig: {},\n      editDialogOpeon: false,\n      editRoleDialogOpeon: false,\n      pageSize: 10,\n      pageNumber: 1,\n      total: 0\n    };\n  },\n  computed: {\n    pageTitle() {\n      return this.pageConfig.title || \"\";\n    },\n    columns() {\n      return this.pageConfig.columns;\n    },\n    editFormFields() {\n      return this.pageConfig.editFormFields;\n    },\n    editRoleFormFields() {\n      return this.pageConfig.editRoleFormFields;\n    }\n  },\n  mounted() {\n    const { pageId } = this.$route.params;\n    getUserPageConfig({\n      pageId\n    }).then(res => {\n      this.pageConfig = res.data;\n      this.loading = false;\n      this.getTableData();\n    });\n  },\n  methods: {\n    getTableData() {\n      this.tableLoading = true;\n      const { pageId } = this.$route.params;\n      const params = {\n        pageSize: this.pageSize,\n        pageNumber: this.pageNumber,\n        pageId\n      };\n      getUserList(params).then(res => {\n        const { list, pageSize, pageNumber, total } = res.data;\n        this.data = list || [];\n        this.pageSize = pageSize || this.pageSize;\n        this.pageNumber = pageNumber || this.pageNumber;\n        this.total = total || this.total;\n        this.tableLoading = false;\n      });\n    },\n\n    handlePageNumberChange(pageNumber) {\n      this.pageNumber = pageNumber;\n      this.getTableData();\n    },\n\n    handlePageSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.getTableData();\n    },\n\n    handleCreateButtonClick() {\n      this.editModel = {\n        type: \"add\",\n        // 初始化用户状态，通常这个值是后端初始化\n        status: \"1\"\n      };\n      this.editDialogOpeon = true;\n    },\n\n    handleButtonEvent($event, row, index) {\n      this[$event.name](row, index);\n    },\n\n    editButtonClick(row, index) {\n      this.editModel = row;\n      this.editModel.index = index;\n      this.editDialogOpeon = true;\n    },\n\n    roleButtonClick(row, index) {\n      // 获取用户的角色信息\n      const username = row.username;\n      getUserRolePermission({\n        username\n      })\n        .then(res => {\n          const { data, errno } = res;\n          if (+errno === 0) {\n            this.editModel = row;\n            this.$set(\n              this.editModel,\n              \"roles\",\n              data.roles.map(item => parseInt(item.id, 10))\n            );\n            this.editModel.index = index;\n            this.editRoleDialogOpeon = true;\n          }\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    },\n\n    deleteButtonClick(row) {\n      this.deleteRequest(row);\n    },\n\n    toBlackButtonClick(row) {\n      this.toBlackRequest(row);\n    },\n\n    toWhiteButtonClick(row) {\n      this.toWhiteRequest(row);\n    },\n\n    handleSave() {\n      this.$refs.FormGenerator.submit()\n        .then(() => {\n          // 新增用户\n          if (this.editModel.type === \"add\") {\n            this.addRequest(this.editModel);\n            this.getTableData();\n            return;\n          }\n          // 编辑\n          this.editRequest(this.editModel);\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    },\n\n    addRequest(params) {\n      userAdd(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Add Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Add Failed!\");\n        }\n      });\n    },\n\n    editRequest(params) {\n      userEdit(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Edit Success!\");\n          this.editDialogOpeon = false;\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Edit Failed!\");\n        }\n      });\n    },\n\n    deleteRequest(params) {\n      userDel(params).then(res => {\n        if (+res.errno === 0) {\n          this.$Message.info(\"Delete Success!\");\n          this.getTableData();\n        } else {\n          this.$Message.error(\"Delete Failed!\");\n        }\n      });\n    },\n\n    // 角色保存\n    handleRoleSave() {\n      this.$refs.FormRoleGenerator.submit()\n        .then(() => {\n          const roles = this.editModel.roles;\n          updateUserRole({\n            username: this.editModel.username,\n            role_id: roles.map(item => item.id).join(\",\")\n          })\n            .then(res => {\n              if (+res.errno === 0) {\n                this.$Message.info(\"Update Success!\");\n                this.editRoleDialogOpeon = false;\n\n              } else {\n                this.$Message.error(\"Update Failed!\");\n              }\n            })\n            .catch(err => {\n              this.$Message.error(`Update Failed!${err.toString()}`);\n            });\n        })\n        .catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.page-rbac-user {\n  &-page-title {\n    font-size: 20px;\n    margin: 10px auto 20px;\n  }\n  &-loading {\n    text-align: center;\n    padding: 140px;\n    &-spin {\n      display: inline-block;\n    }\n  }\n  &-header {\n    margin-bottom: 10px;\n    text-align: right;\n  }\n  &-table {\n    .ivu-form-item {\n      margin-bottom: 0;\n    }\n  }\n  .ivu-table,\n  .ivu-table-wrapper,\n  .ivu-table-cell {\n    overflow: visible;\n  }\n  .ivu-poptip-confirm {\n    text-align: left;\n  }\n\n  &-pagenation {\n    margin-top: 20px;\n    text-align: right;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=7029b520&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}