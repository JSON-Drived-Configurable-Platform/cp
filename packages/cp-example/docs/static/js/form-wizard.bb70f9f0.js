(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["form-wizard"],{"710e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wizard"},[n("Steps",{attrs:{current:t.current,direction:"vertical"}},[n("div",{staticClass:"wizard-name",on:{click:function(e){return t.handelTab("0")}}},[n("Step",{attrs:{title:"项目一",content:"这里是该步骤的描述信息"}})],1),n("div",{staticClass:"wizard-name",on:{click:function(e){return t.handelTab("1")}}},[n("Step",{attrs:{title:"项目二",content:"这里是该步骤的描述信息"}})],1),n("div",{staticClass:"wizard-name",on:{click:function(e){return t.handelTab("2")}}},[n("Step",{attrs:{title:"项目三",content:"这里是该步骤的描述信息"}})],1)]),[n("div",{staticClass:"page-form-takeover-form"},[n("FormGenerator",{ref:"FormGenerator",attrs:{fields:t.fieldsData,model:t.model},on:{"on-submit":t.handleSave,"on-button-event":function(e){return t.handelButtonEvent(e)}}})],1)]],2)},r=[],i=(n("7f7f"),n("c5f6"),n("8e44")),o=i["a"]["form"],s=o.getWizardFormData,u=o.getTakeoverModel,c=o.getList,d={data:function(){return{current:Number(this.$route.query.inx)||0,model:{},valid:!0,pageConfig:[],diffData:{},data:[{name:"第一步",value:"1"},{name:"第二步",value:"2"},{name:"第三步",value:"3"}]}},computed:{fieldsData:function(){return this.pageConfig&&this.pageConfig[this.current]||[]}},mounted:function(){this.handTakeoverData(),this.handTakeoverModel(),this.$router.push({query:{type:"add",inx:this.current}})},methods:{handelTab:function(t){console.log(t),this.current=Number(t),this.$router.push({query:{type:"add",inx:Number(t)}})},handTakeoverData:function(){var t=this;s().then(function(e){"ok"===e.msg&&(t.pageConfig=e.data.fields)})},handTakeoverModel:function(){var t=this;u().then(function(e){"ok"===e.msg&&(t.diffData=t.deepClone(e.data.modelData),t.model=e.data.modelData)})},handelButtonEvent:function(t){this[t.name]()},prev:function(){0!==this.current?(this.current-=1,this.$router.push({query:{type:this.$route.query.type,inx:this.current}})):this.current=0},next:function(){var t=this;2!==this.current&&(this.$refs.FormGenerator.submit().then(function(e){console.log("update model",e),t.value=!1}).catch(function(e){t.valid=e,console.log("valid",e)}),this.valid&&(this.current+=1,this.$router.push({query:{type:this.$route.query.type,inx:this.current}})))},handleSave:function(){var t={};for(var e in this.model)Array.isArray(this.model[e])||Array.isArray(this.diffData[e])?this.model[e].join(",")!==this.diffData[e].join(",")&&(t[e]=this.model[e]):this.model[e]!==this.diffData[e]&&(t[e]=this.model[e]);c(t).then(function(t){console.log(t)})},deepClone:function(t){var e=JSON.stringify(t),n=JSON.parse(e);return n}}},l=d,h=(n("bc6b"),n("2877")),f=Object(h["a"])(l,a,r,!1,null,null,null);e["default"]=f.exports},bc6b:function(t,e,n){"use strict";var a=n("c70e"),r=n.n(a);r.a},c70e:function(t,e,n){}}]);
//# sourceMappingURL=form-wizard.bb70f9f0.js.map