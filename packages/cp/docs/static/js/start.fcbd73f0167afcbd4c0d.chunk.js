(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{126:function(t,e,a){var n=a(173);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(10).default)("3ea83e81",n,!0,{})},127:function(t,e,a){var n=a(175);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(10).default)("81bb6994",n,!0,{})},128:function(t,e,a){var n=a(177);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(10).default)("721deb0e",n,!0,{})},142:function(t,e,a){t.exports=a.p+"static/img/vue-init-project.f218f7b.png"},143:function(t,e,a){t.exports=a.p+"static/img/vue-add-cp.4331212.png"},144:function(t,e,a){t.exports=a.p+"static/img/vue-add-cp-template-data-report.87ed116.png"},145:function(t,e,a){t.exports=a.p+"static/img/modify-mock-data.fb07ddd.png"},146:function(t,e,a){t.exports=a.p+"static/img/slide-after-modified.23e4bee.png"},147:function(t,e,a){t.exports=a.p+"static/img/modify-router.4206631.png"},148:function(t,e,a){t.exports=a.p+"static/img/atomic-design.330e96e.jpg"},172:function(t,e,a){"use strict";var n=a(126);a.n(n).a},173:function(t,e,a){(t.exports=a(9)(!1)).push([t.i,"\n.i-code[data-v-19189fba] {\n    margin: 0 0 10px 0;\n}\ndiv[data-v-19189fba]{\n     position: relative;\n     font-size: 14px;\n}\nspan.copy[data-v-19189fba], span.scale[data-v-19189fba], span.open-fiddle[data-v-19189fba]{\n     border-radius: 0 0 3px 3px;\n     padding: 2px 5px;\n     position: absolute;\n     top: 5px;\n     right: 0;\n     color: #b2b2b2;\n     cursor: pointer;\n}\nspan.scale[data-v-19189fba]{\n     right: 25px;\n}\nspan.open-fiddle[data-v-19189fba]{\n     right: 50px;\n}\n.bg + span.copy[data-v-19189fba]{\n     right: 5px;\n}\nspan.copy[data-v-19189fba]:hover, span.scale[data-v-19189fba]:hover, span.open-fiddle[data-v-19189fba]:hover{\n     color: #5c6b77;\n}\n\n",""])},174:function(t,e,a){"use strict";var n=a(127);a.n(n).a},175:function(t,e,a){(t.exports=a(9)(!1)).push([t.i,"\n.code-scale-modal .ivu-modal-body{\n    background-color: #f7f7f7;\n}\n.code-scale-modal pre{\n    font-size: 14px;\n}\n",""])},176:function(t,e,a){"use strict";var n=a(128);a.n(n).a},177:function(t,e,a){(t.exports=a(9)(!1)).push([t.i,".img-list[data-v-3e5b649a] {\n  margin: 20px auto;\n}\n.img-list ul[data-v-3e5b649a] {\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n}\n.img-list ul li[data-v-3e5b649a] {\n  margin: 0 50px;\n  text-align: center;\n}\n.img-list ul li img[data-v-3e5b649a] {\n  margin: 0 auto;\n  display: block;\n  width: 100%;\n}\n.img-list ul li span[data-v-3e5b649a] {\n  display: inline-block;\n  line-height: 30px;\n  font-size: 12px;\n}\n",""])},200:function(t,e,a){"use strict";a.r(e);var n=a(121),i=a(120),o=(a(153),a(154),a(167),a(117),a(168)),r=a.n(o),s=(a(169),a(171)),c=a.n(s),v={props:{lang:{type:String,default:"javascript"},bg:{type:Boolean,default:!1}},data:function(){return{openScale:!1,code:"",copied:!1,docLang:this.$lang,title:"Code"}},computed:{language:function(){return"auto"==this.lang?"":this.lang}},mounted:function(){this.code=this.$refs.code.innerHTML.replace(/\n/,""),this.$refs.code.innerHTML=this.code,r.a.highlightBlock(this.$refs.code),this.$refs.code2.innerHTML=this.code,r.a.highlightBlock(this.$refs.code2);var t=this.$parent.$parent.$parent;"Demo"===t.$options.name&&(this.title=t.title)},methods:{clip:function(){var t=this,e=this.code.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),a=new c.a(".copy",{text:function(){return e}});a.on("success",function(e){e.clearSelection(),a.destroy(),t.copied=!0,"zh-CN"===t.docLang?t.$Message.success("代码已复制到剪贴板"):t.$Message.success("Code copied"),setTimeout(function(){t.copied=!1},2e3)})},scale:function(){this.openScale=!0},getSource:function(t,e){var a=new RegExp("<"+e+"[^>]*>"),n=t.match(a);return n?(n=n[0],t.slice(t.indexOf(n)+n.length,t.lastIndexOf("</"+e+">"))):""},openFiddle:function(){}}},l=(a(172),a(174),a(1)),p=Object(l.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"i-code"},[a("pre",{class:{bg:t.bg}},[a("code",{ref:"code",class:t.language},[t._t("default")],2)]),t._v(" "),a("span",{staticClass:"scale",on:{click:t.scale}},[a("Tooltip",{attrs:{content:t.$t("index.code_fullscreen"),placement:"top",transfer:""}},[a("Icon",{attrs:{type:"md-qr-scanner",size:"18"}})],1)],1),t._v(" "),a("span",{staticClass:"copy",on:{click:t.clip}},[a("Tooltip",{attrs:{content:t.$t("index.code_copy"),placement:"top",transfer:""}},[a("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.copied,expression:"!copied"}],attrs:{type:"md-copy",size:"18"}}),t._v(" "),a("Icon",{directives:[{name:"show",rawName:"v-show",value:t.copied,expression:"copied"}],staticStyle:{color:"#5cb85c"},attrs:{type:"md-checkmark",size:"18"}})],1)],1),t._v(" "),a("Modal",{attrs:{"class-name":"code-scale-modal",title:t.title,width:"65"},model:{value:t.openScale,callback:function(e){t.openScale=e},expression:"openScale"}},[a("pre",{class:{bg:t.bg}},[t._v("            "),a("code",{ref:"code2",class:t.language}),t._v("\n        ")])])],1)},[],!1,null,"19189fba",null).exports,_=a(119),d={components:{iArticle:n.a,inAnchor:i.a,iCode:p},data:function(){return{code:_.a}}},u=(a(176),Object(l.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i-article",[n("article",[n("h1",[t._v("Quick Start")]),t._v(" "),n("p",[t._v("本文介绍如何使用CP来快速构建一个简单的数据报表平台前端项目，包含如下功能:")]),t._v(" "),n("ul",[n("li",[t._v("（1）、包含顶部导航、动态侧边栏导航、用户中心等平台基础功能；")]),t._v(" "),n("li",[t._v("（2）、包含一个可配置的支持可视化、查询功能的数据报表模板；")]),t._v(" "),n("li",[t._v("（3）、支持变更配置来动态更改侧边栏及导航。")])]),t._v(" "),n("inAnchor",{attrs:{title:"使用vue-cli创建一个空项目",h2:""}}),t._v(" "),n("i-code",[t._v("vue create cp-demo")]),t._v(" "),n("p",[t._v("创建项目的时候的配置项可以如下设置：")]),t._v(" "),n("div",{staticClass:"api"},[n("table",[n("thead",[n("tr",[n("th",[t._v("选项")]),t._v(" "),n("th",[t._v("选择")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("preset")]),t._v(" "),n("td",[t._v("Manually select features")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("features")]),t._v(" "),n("td",[t._v("Babel、CSS Pre-processors、Linter / Formatter")]),t._v(" "),n("td",[t._v("必须选择Babel")])]),t._v(" "),n("tr",[n("td",[t._v("CSS pre-processor")]),t._v(" "),n("td",[t._v("Less")]),t._v(" "),n("td",[t._v("必须选择Less、模板都基于Less开发。")])]),t._v(" "),n("tr",[n("td",[t._v("linter / formatter")]),t._v(" "),n("td",[t._v("ESLint with error prevention only")]),t._v(" "),n("td",[t._v("可自主选择")])]),t._v(" "),n("tr",[n("td",[t._v("additional lint features")]),t._v(" "),n("td",[t._v("Lint on save")]),t._v(" "),n("td",[t._v("可自主选择")])]),t._v(" "),n("tr",[n("td",[t._v("config for Babel")]),t._v(" "),n("td",[t._v("In dedicated config files")]),t._v(" "),n("td",[t._v("可自主选择")])])])])]),t._v(" "),n("p",[t._v("安装完成后，我们将得到一个初始化的项目。")]),t._v(" "),n("alert",[n("code",[t._v("CP")]),t._v("依赖"),n("code",[n("a",{attrs:{href:"https://cli.vuejs.org/"}},[t._v("vue-cli")])]),t._v("，需要在全局安装"),n("code",[t._v("vue-cli")]),t._v("，详见"),n("a",{attrs:{href:"https://cli.vuejs.org/guide/installation.html"}},[t._v("Vue CLI Installation")])]),t._v(" "),n("inAnchor",{attrs:{title:"安装vue-cli-plugin-cp",h2:""}}),t._v(" "),n("p",[t._v("到项目的目录中执行:")]),t._v(" "),n("i-code",[t._v("vue add cp")]),t._v(" "),n("alert",[t._v("如果需要使用百度编码规范，请安装vue add cp-baidu")]),t._v(" "),n("alert",[t._v("绿色的为新增文件或者文件夹，黄色的表示有变更，可以通过编辑器查看详细的变更。")]),t._v(" "),n("p",[t._v("安装完毕后，执行：")]),t._v(" "),n("i-code",[t._v("yarn serve")]),t._v(" "),n("p",[t._v("\n            路由到"),n("strong",[t._v("/home")]),t._v("页面，可以看到打开的页面上展示了很多模板。\n            在后续的项目开发中，你可以根据自己的需要选择模板添加。\n            本文后续将添加"),n("strong",[t._v("cp-template-data-report")]),t._v("这个模板。\n            并演示如何通过简单的配置变更，快速完成一个数据报表页面的开发。\n        ")]),t._v(" "),n("inAnchor",{attrs:{title:"添加template-data-report模板",h2:""}}),t._v(" "),n("i-code",[t._v("vue add cp-template-data-report")]),t._v(" "),n("p",[t._v("安装完毕后，重启项目并路由到"),n("code",[t._v("/data-report")]),t._v("就可以看到一个具有可视化、查询等功能的数据报表页面。")]),t._v(" "),n("inAnchor",{attrs:{title:"发生了什么",h2:""}}),t._v(" "),n("p",[t._v("到这个时候，你可能会有很多疑问。现在我们就来简单的了解下到底发生了什么。")]),t._v(" "),n("p",[t._v("我们安装了两个插件，这两个插件都生成了一些代码。")]),t._v(" "),n("p",[n("strong",[n("a",{attrs:{href:"https://github.com/JSON-Drived-Configurable-Platform/vue-cli-plugin-cp"}},[t._v("vue-cli-plugin-cp")])]),t._v("\n            是一个CP基础插件，这个插件生成了脚手架、Layout相关代码。在安装后，就能看到顶部导航栏及侧边栏。\n            还注入了vue-router、vuex项目核心依赖，并进行了Home页面的router和store的声明以及router和store动态加载机制的注入。\n        ")]),t._v(" "),n("p",[n("strong",[n("a",{attrs:{href:"https://github.com/JSON-Drived-Configurable-Platform/vue-cli-plugin-cp-template-data-report"}},[t._v("vue-cli-plugin-cp-template-data-report")])]),t._v("\n            是一个模板插件，这个插件生成了数据报表相关的代码。并自动注入了data-report所依赖的包和库，同时还声明了data-report的路由。\n        ")]),t._v(" "),n("p",[t._v("我们对比一下每次操作后的文件变更，可以更直观的理解到底发生了什么？如下是每次操作后的代码目录：")]),t._v(" "),n("p",{staticClass:"img-list"},[n("ul",[n("li",[n("img",{attrs:{src:a(142),alt:"vue初始化项目目录结构"}}),n("span",[t._v("vue初始化项目目录结构")])]),t._v(" "),n("li",[n("img",{attrs:{src:a(143),alt:"安装vue-cli-plugin-cp之后的代码目录"}}),n("span",[t._v("安装vue-cli-plugin-cp之后的代码目录")])]),t._v(" "),n("li",[n("img",{attrs:{src:a(144),alt:"安装vue-cli-plugin-cp-template-data-report之后的代码目录"}}),n("span",[t._v("安装vue-cli-plugin-cp-template-data-report之后的代码目录")])])])]),t._v(" "),n("p",[t._v("\n            现在我们对CP已经有了基本的认识，它基于"),n("code",[n("a",{attrs:{href:"https://cli.vuejs.org/"}},[t._v("vue-cli")])]),t._v("生成项目，然后通过安装一个基础插件来生成项目所需要的基础代码，然后再通过安装模板插件来生成模板页面。\n            并通过一些约定来使基础插件和模板插件可以相互配合，以此来达到模板复用的目的。\n        ")]),t._v(" "),n("inAnchor",{attrs:{title:"更改侧边栏配置",h2:""}}),t._v(" "),n("p",[t._v("侧边栏的配置维护在"),n("code",[t._v("layout")]),t._v("模板里面。在这个例子中，"),n("code",[t._v("layout")]),t._v("模板是通过"),n("code",[t._v("vue-cli-plugin-cp")]),t._v("注入的。")]),t._v(" "),n("p",[t._v("我们希望需要更改侧边栏，增加一个数据报表的菜单项。对于当前项目的"),n("code",[t._v("layout")]),t._v("，侧边栏的配置是通过"),n("code",[t._v("src/service/module/app.js")]),t._v("里面的"),n("code",[t._v("getMenuList")]),t._v("来获取的。所以我们仅需要更改这个接口的数据即可。")]),t._v(" "),n("p",[t._v("在开发环境下，默认使用了json来mock数据。更改"),n("code",[t._v("src/mock/app/menu-list.json")]),t._v("里面的配置就可以完成对侧边栏配置的更新。")]),t._v(" "),n("alert",[t._v("mock数据的变更需要重启webpack才能生效。")]),t._v(" "),n("p",{staticClass:"img-list"},[n("ul",[n("li",[n("img",{attrs:{width:"400",src:a(145),alt:"更改menu-list.json里的mock数据"}}),n("span",[t._v("更改menu-list.json里的mock数据")])]),t._v(" "),n("li",[n("img",{attrs:{width:"400",src:a(146),alt:"变更之后的侧边栏"}}),n("span",[t._v("变更之后的侧边栏")])])])]),t._v(" "),n("alert",[t._v("如果先要了解更多关于"),n("code",[t._v("service")]),t._v("中的配置，可阅读"),n("a",{attrs:{href:"/concept/services"}},[t._v("Concept Services")])]),t._v(" "),n("inAnchor",{attrs:{title:"配置报表路由",h2:""}}),t._v(" "),n("p",[t._v("现在我们已经有了一个功能完整的数据报表页面，这个页面是通过模板插件注入到项目中的，Router的配置是模板默认的，如果我们想要变更路由，可以直接更改"),n("code",[t._v("src/page/data-report/router.js")]),t._v("下的路由配置。")]),t._v(" "),n("p",{staticClass:"img-list"},[n("ul",[n("li",[n("img",{attrs:{width:"80%",src:a(147),alt:"更改路由"}}),n("span",[t._v("更改menu-list.json里的mock数据")])])])]),t._v(" "),n("p",[t._v("上图展示了如何将"),n("code",[t._v("/data-report")]),t._v("更改为"),n("code",[t._v("/my-report")]),t._v("。")]),t._v(" "),n("p",[t._v("router的申明要遵循一定的格式，由于router的申明会分离在不同的模板页面中，所以需要我们自己来控制路由的命名冲突问题。")]),t._v(" "),n("alert",[t._v("如果想要了解"),n("code",[t._v("router")]),t._v("的申明格式，注入机制，可阅读"),n("router-link",{attrs:{to:"/concept/router-config"}},[t._v("Concept/Router Config")])],1),t._v(" "),n("inAnchor",{attrs:{title:"Data Report模板的详细用法",h2:""}}),t._v(" "),n("p",[t._v("现在我们添加了侧边栏菜单项，也增加了Data Report的路由。我们得到了一个完整的数据报表。")]),t._v(" "),n("p",[t._v("但是这仅限于开发环境。实际生产中，我们需要满足具体的业务需求。数据报表的查询项和可视化的图表都需要结合业务来实现。")]),t._v(" "),n("p",[t._v("\n            Data Report模板是通过可配置的JSON来驱动页面的，包括页面结构与布局，图表类型与数据，查询条件等。\n            "),n("code",[t._v("vue-cli-plugin-cp-template-data-report")]),t._v("支持非常丰富的可视化组件以及查询组件，而且这些都可以通过JSON来配置。\n            查看"),n("a",{attrs:{href:"https://github.com/JSON-Drived-Configurable-Platform/vue-cli-plugin-cp-template-data-report"}},[t._v("cp-template-data-report")]),t._v("了解更多用法。\n        ")]),t._v(" "),n("inAnchor",{attrs:{title:"模板、模块、可配置平台",h2:""}}),t._v(" "),n("p",[t._v("Data Report模板是通过可配置的JSON来驱动的，通常这些"),n("strong",[t._v("可配置的模板(Configuable Template)")]),t._v("都基于一些"),n("strong",[t._v("基础模块(Modules)")]),t._v("来构建。")]),t._v(" "),n("p",[t._v("\n            Data Report模版构建在\n            "),n("strong",[n("a",{attrs:{href:"https://github.com/JSON-Drived-Configurable-Platform/form-generator-iview"}},[t._v("FormGeneratorIView")])]),t._v("\n            和\n            "),n("strong",[n("a",{attrs:{href:"https://github.com/JSON-Drived-Configurable-Platform/data-vis-iview"}},[t._v("DataVisIView")])]),t._v("\n            之上。\n            前者主要解决平台开发中的表单问题，提供基于JSON的表单渲染。后者主要解决可视化图表的渲染，实际上在DataVisIView里面就使用了FormGeneratorIView。\n        ")]),t._v(" "),n("p",[t._v("这些"),n("strong",[t._v("可配置的模板(Configuable Template)和基础模块(Modules)是CP整个项目的重点")]),t._v("。")]),t._v(" "),n("inAnchor",{attrs:{title:"Atomic Design",h2:""}}),t._v(" "),n("p",{staticClass:"img-list"},[n("ul",[n("li",[n("a",{attrs:{target:"_blank",href:"http://bradfrost.com/blog/post/atomic-web-design/"}},[n("img",{attrs:{width:"60%",src:a(148),alt:"Atomic Design"}})]),t._v(" "),n("a",{attrs:{target:"_blank",href:"http://bradfrost.com/blog/post/atomic-web-design/"}},[n("span",[t._v("Atomic Design")])])])])]),t._v(" "),n("p",[n("strong",[t._v("CP")]),t._v("的意义不仅限于提供了一套模板复用机制，更在于在平台开发中践行"),n("strong",[t._v("Atomic Design")]),t._v("的原则。")]),t._v(" "),n("p",[t._v("\n            从iView到FormGeneratorIView、DataVisIView，再到vue-cli-plugin-cp-template-data-report，最终到Data Report页面。\n            也就是从Atoms、Molecules到Organisms，再到Templates，最终到Pages的过程。\n        ")]),t._v(" "),n("p",[t._v("如果想要了解更多关于"),n("Strong",[t._v("CP")]),t._v("的设计理念，可以参考"),n("a",{attrs:{href:"/concept/main-thoery"}},[t._v("Concept Main Thoery")])],1)],1)])},[],!1,null,"3e5b649a",null).exports);e.default=u}}]);